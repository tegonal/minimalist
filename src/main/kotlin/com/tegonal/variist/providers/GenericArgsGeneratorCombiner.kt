package com.tegonal.variist.providers

import com.tegonal.variist.generators.ArgsGenerator
import com.tegonal.variist.generators.ArbArgsGenerator
import com.tegonal.variist.generators.SemiOrderedArgsGenerator

/**
 * @since 2.0.0
 */
interface GenericArgsGeneratorCombiner {

	/**
	 * Combines the [firstArgsGenerator] with the [restMaybeArgGenerators] into an [ArgsGenerator] which generates
	 * [List]s containing the zipped values.
	 *
	 * I.e. the first element of the resulting List is the value generated by the [firstArgsGenerator], the second value
	 * is the value generated by the first element in [restMaybeArgGenerators] and so on.
	 *
	 * @throws IllegalStateException The default implementation of Variist requires that:
	 *   - if the [firstArgsGenerator] is an [ArbArgsGenerator], then the elements in [restMaybeArgGenerators] need
	 *   to be an [ArbArgsGenerator] as well.
	 *   - if the [firstArgsGenerator] is a [SemiOrderedArgsGenerator], then the elements in [restMaybeArgGenerators]
	 *   need to be an [ArbArgsGenerator] or [SemiOrderedArgsGenerator].
	 */
	fun combineFirstWithRest(
		firstArgsGenerator: ArgsGenerator<*>,
		restMaybeArgGenerators: List<*>
	): ArgsGenerator<List<*>>
}

